# Diagrama arquitectura MS
[Diagrama](https://drive.google.com/file/d/1OTIYeq2PjCWkw7D87mxlDC6Wd9hzhOur/view?usp=sharing)

## Servicios y arquitectura elegida
``Front``: al ser JS me da a entender que es estatico el contenido, asi que desplegarlo en S3 le daria HA al mismo tiempo que reduciria significativamente los costos, ya que se pueden cachear los archivos y solo generaria gasto al obtener los actualizados. Para esto es necesario incorporar cloufront para mejorar la latencia y los tiempo de respuesta y route 53 para poder acceder mediante un dns al sitio almacenado en s3.
Opte por esta opcion porque siendo que es un js statico, sumar al ECS las tareas generaria un costo mayor sin justificativo y la opcion del s3 provee de todos los puntos solicitados al mismo tiempo que se ahorra presupuesto, el cual se podra utilizar para otros servicios, como el RDS.

``Backend``: Para tener HA y escalabilidad vamos a utilizar ECS con ECR, definiendo servicios en un cluster para que aws se encargue de mantenerlos arriba y con un autoscalling para que si aumenta la demanda se puedan instanciar mas tareas. Para reducir costos podriamos evaluar utilizar fargate_spot, o si vamos a utilizar la infraestructura para mas que solo el deploy del backend, podriamos migrar a EC2, pero para tener HA y Escalabilidad, optaria por Fargate. Deberiamos incorporar un ALB para poder impactar las distintas instancias de las task definidas en el service.
Opte por Fargate normal ya que se da a entender que el foco es la HA y la escalabilidad, no tanto el presupuesto y como no se menciona el uso que va a tener me parece correcto asumir que o no se sabe o va a ser grande. Siempre queda la posibilidad de migrar a una version autogestionada y/o spot para poder reducir costos, perro el despliegue en fargate nos permitiria dar respuesta a las solicitudes por mas que no sepamos cuantas son y almismo tiempo juntar datos de el uso para poder evaluar mas adelante una posible migracion justificada con info.

`DB`: Podriamos optar por soluciones propias de aws que ya cuentan con HA y escalado, como Aurora y Dynamo, en estos casos deberiamos asegurarnos que esten en la misma VPC que el ECS, agregar Security groups para permitir la comunicacion interna entre ambos servicios. En caso de utilizar algun servicio externo, como Atlas para Mongo, deberiamos permitir que se pueda enviar y recibir datos fuera de AWS. Optaria por los servicios de AWS para el RDS y Dynamo si es una aplicacion productiva, si fuera una de desarrollo o un POC, optaria por Atlas en su capa gratuita y si se utilizara EC2 en el backend evaluaria instalar el servicio de SQL para aprovechar los recursos y ahorrar presupuesto.

`Microservicios`: Si los servicios se encuentran fuera de nuestra VPC se podria incorporar `PrivateLink` con su costo relacionado para asi no tener que exponer el servicio, lo recomendaria si los servicios son propios y conocemos que tipo de trafico se maneja, si estan dentro de la VPC se podria editar el SG para que nos podamos comunicar internamente. En caso de que no se cumpla lo previo, deberiamos comunicarnos utilizando los accesos expuestos a internet premitiendo el trafico externo de las ip o dns que necesitemos.


